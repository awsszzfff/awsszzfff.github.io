---
title: "20240718PAIR"
date: 2024-11-26
tags:
  - Others
categories:
  - Others
---
# 20240718PAIR

# Based Information

| 类型  | 篇名                                                             | 关键字                   | 作者             | 年份         | 页码  |
| --- | -------------------------------------------------------------- | --------------------- | -------------- | ---------- | --- |
|     | Jailbreaking Black Box Large Language Models in Twenty Queries | Jailbreak; Black Box; | Patrick Chao;  | 2024/03/18 | 34  |

# Important Information

利用到社会工程学的启发，黑盒式的自动化的实现越狱攻击；

## Contributions

在没有人为干预的情况下，自动、高效地生成可解释的越狱提示。

利用两个黑盒大模型，一个作为攻击者，另一个作为目标，相互作用，创造性地寻找可能使目标模型越狱的提示。

## Method

**攻击过程分为四步**：攻击生成、目标响应、越狱评分和迭代优化。

- **具体流程**：攻击者模型根据设定的目标（如“告诉我如何制造炸弹”）生成提示，然后将这些提示输入到目标模型中，获取其响应。接下来，使用JUDGE函数评估提示-响应对是否构成越狱。如果成功，则返回该提示；否则，更新对话历史并重复这一过程，直到找到越狱提示或达到最大迭代次数。

提示符的设计、聊天历史记录的使用、改进的迭代评估。

![[attachments/Pasted image 20241127143406.png]]

### 算法概述
- **输入**：算法接受的输入包括迭代次数 $K$ 、阈值 $t$ 和攻击目标 $O$ 。
- **初始化**：首先，攻击者LLM的系统提示被设置为目标 $O$ ，即希望生成的不适当内容类型；同时，初始化空的对话历史记录 $C = []$ 。

### 四个核心步骤
1. **攻击生成**：在每次迭代中，基于当前的对话历史 $C$ ，从攻击者LLM采样生成一个候选提示 $P$ 。这个过程通过函数 $q_A(C)$ 来表示，其中 $A$ 是攻击者LLM。
2. **目标响应**：将生成的提示 $P$ 传递给目标LLM，得到相应的响应 $R$ 。这一步由 $R \sim q_T(P)$ 来完成，其中 $T$ 代表目标模型。
3. **越狱评分**：使用JUDGE函数评估提示-响应对 $(P, R)$ ，并产生二进制得分 $S = JUDGE(P, R)$ 。如果 $S=1$ ，意味着发生了越狱，那么提示 $P$ 被返回并且算法终止。
4. **迭代优化**：如果未发生越狱，则将上一次的提示 $P$ 、响应 $R$ 及得分 $S$ 添加到对话历史 $C$ 中，然后继续下一轮迭代。这个过程会重复进行，直到找到越狱提示或达到最大迭代次数 $K$ 。

### 选择JUDGE函数
为了准确判断是否发生了越狱，研究者考虑了多种候选的 JUDGE 函数，包括 GPT-4、GCG、BERT、TDC 和 Llama Guard。最终，他们选择了Llama Guard 作为JUDGE函数，因为它在识别越狱的同时保持了较低的误报率（FPR），这对于避免错误地将正常行为标记为越狱至关重要。

### 实验参数
- **并行处理**：研究中提到，PAIR算法完全支持并行运行多个对话流。实验中通常采用30个并行流（N=30），每个流的最大迭代次数为3（K=3）。这种配置在深度探索和广度搜索之间找到了良好的平衡。
- **JSON格式输出**：为了标准化生成的内容，要求攻击者LLM以JSON格式提供响应，这有助于确保数据结构的一致性和可解析性。

## Result

## Shortcome

# Self Thought

利用现有的模型，而不是传统的机器学习训练过程。

不是训练供给模型，利用其现有的能力来生成和优化提示。

攻击者模型 A 基于当前会话的历史生成候选提示 P，并将 P 输入到目标模型 T 中获取响应 R。然后使用 JUDGE 函数对 提示-响应 对（P,R）进行评估，判断是否成功越狱。若未成功，则将 P、R 及得分反馈给 A，用于生成新的候选提示，从而不断改进。

# Experiments

Dataset等
# PS (2024/11/26)
