---
title: "基于检索增强生成的大型语言模型的知识破坏攻击"
date: 2025-05-27
tags:
  - RAGAttacks
categories:
  - 文献阅读
---
# 基于检索增强生成的大型语言模型的知识破坏攻击

# Based Information

|       类型        |                                                  篇名                                                   |        关键字        |            作者            |     年份     |                链接                |
| :-------------: | :---------------------------------------------------------------------------------------------------: | :---------------: | :----------------------: | :--------: | :------------------------------: |
| 基于RAG对LLM进行的攻击; | PoisonedRAG: Knowledge Corruption Attacks to Retrieval-Augmented Generation  of Large Language Models | LLM; RAG; Attack; | Wei Zou;  Runpeng Geng…… | 2024/08/13 | https://arxiv.org/abs/2402.07867 |

# Important Information

RAG 通过知识数据库检索外部知识辅助 LLM 生成答案，现主要是利用 RAG 来解决知识滞后、幻觉等问题，对于 RAG 的安全性问题探索较少。

（旨在针对特定的目标问题，让 LLM 生成攻击者选定的目标答案，以传播错误信息、产生商业偏见或金融误导等，影响 RAG 系统在关键应用中的可靠性和安全性。）

文中的攻击方式只会改变知识数据库中的数据，不会影响原始训练数据集。（和现有投毒攻击不同的点）【知识数据库是 RAG 系统在运行时用于检索知识的文本集合，它在 LLM 和检索器训练完成后发挥作用】

## Contributions

![[attachments/20250527-1.png]]

文章提出的 Poisoned RAG ，是第一个利用 RAG 系统知识库引入的新攻击面的知识破坏攻击；

将知识腐败攻击攻击构建为一个约束优化问题，目标是找到一组恶意文本，使 LLM 在使用从被村改的知识数据库中检索到的文本作为上下文时，生成目标答案；

## Method

向知识数据库注入精心构造的恶意文本，这些恶意文本被分解为满足**检索条件和生成条件的两个子文本**，通过让恶意文本能被目标问题检索到，并在作为上下文时误导 LLM 生成攻击者期望的答案 。

### 优化问题

问题 Q -> 答案 R -> 上下文 P（利用 P 达到对 Q 的期望的最优 R）

恶意文本要在目标问题的前 k 个检索文本集合中，其与目标问题的嵌入向量应相似，此为检索条件；同时，当恶意文本作为上下文时，要能误导 LLM 生成目标答案，这是生成条件。满足这两个条件，恶意文本才可能有效攻击。

将恶意文本分为两个子文本 $P=S⊕I$ 

- 构造 I 以满足生成条件：借助 LLM（如GPT-4）生成 I 。
- 构造 S 以满足检索条件：
	- 黑盒，由于无法访问检索器参数和查询检索器，利用目标问题与自身最相似且不影响 I 有效性的特点，直接设 $S = Q$，即 $P = Q \oplus I$。
	- 白盒，攻击者可访问检索器参数，通过优化 S 最大化 $S \oplus I$与目标问题 Q 的相似度得分。具体通过求解 $S=\underset{S'}{argmax} Sim\left(f_{Q}(Q), f_{T}\left(S' \oplus I\right)\right)$ 来实现，可使用目标问题 Q 初始化 S，再用梯度下降法更新 S 。

![[attachments/20250527-2.png]]

![[attachments/20250527-3.png]]

# PS (2025/05/27)

![[attachments/20250527.png]]

文中对 RAG 进行了介绍，可以学习一下~

RAG ：通过检索器（根据给定查询从外部语料库获取相关文档）和生成器（综合信息以产生连贯且上下文适当的响应），RAG 系统利用了大量最新的外部知识。主要通过这种架构来确保输出准确和最新，显著提高各 AI 应用程序的性能。